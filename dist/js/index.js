"use strict";function _classCallCheck(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,s){for(var a=0;a<s.length;a++){var t=s[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,s,a){return s&&_defineProperties(n.prototype,s),a&&_defineProperties(n,a),n}var Index_wrap=function(){function n(){_classCallCheck(this,n),this.init()}return _createClass(n,[{key:"init",value:function(){this.count_time(),this.count_time_data(),this.scene_data(),this.live_fresh_slide(),this.know_list(),this.top_back(),this.login(),this.banner()}},{key:"banner",value:function(){new Swiper(".swiper-container",{autoplay:!0,speed:1e3,loop:!0,pagination:{el:".swiper-pagination"}})}},{key:"count_time",value:function(){var n,s,a,t=5400;function i(n){return n.length<2?"0"+n:n}setInterval(function(){n=parseInt(t/60/60).toString(),s=parseInt((t-60*n*60)/60).toString(),a=parseInt(t-60*n*60-60*s).toString(),$(".count_time>span").eq(0).text(i(n)),$(".count_time>span").eq(1).text(i(s)),$(".count_time>span").eq(2).text(i(a)),t<=0?t=5400:t-=1},1e3)}},{key:"count_time_data",value:function(){$.ajax({url:"http://localhost/ws203/oneShop/src/lib/sup_time.json",success:function(n){for(var s=0;s<n.length;s++)$(".time_limit_con>ul").append('\n                    <li>\n                        <a href="">\n                            <div class="sup_top">\n                                <img src="'.concat(n[s].img,'" alt="">\n                            </div>\n                            <div class="sup_bottom">\n                                <div class="s_title">\n                                ').concat(n[s].tit,'\n                                </div>\n                                <div class="s_bar">\n                                    <div class="progress" style="width:').concat(n[s].wid,'"></div>\n                                </div>\n                                <div class="s_son">\n                                    <div class="s_num">\n                                        <span>').concat(n[s].price,"</span><span>").concat(n[s].pricehis,"</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </a>\n                    </li>\n                    "))}})}},{key:"live_fresh_slide",value:function(){$(".qua_top_slide_right").on("click",function(){var n=$(".qua_top_slide_con").position().left-208;n<="-550"?$(".qua_top_slide_con").css("left","-401.95"):$(".qua_top_slide_con").css("left",n)}).prev().on("click",function(){console.log(1);var n=$(".qua_top_slide_con").position().left+208;"20"<=n?$(".qua_top_slide_con").css("left","14.04"):$(".qua_top_slide_con").css("left",n)})}},{key:"scene_data",value:function(){var a=this;$.ajax({url:"http://localhost/ws203/oneShop/src/lib/scene.json",success:function(n){for(var s=0;s<n.length;s++)$(".scene_floor_con").append('<div class="live_fresh">\n                        <div class="qua_show">\n                            <a href="" class="qua_tit">\n                                <span>'.concat(n[s].qua_tit_span1,"</span>\n                                <span>").concat(n[s].qua_tit_span2,'</span>\n                            </a>\n                            <div class="qua_show_con">\n                                <img src="').concat(n[s].qua_show_con_left_img,'" alt="" class="qua_show_con_left">\n                                <div class="qua_left_font">\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word1,'</div>\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word2,'</div>\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word3,'</div>\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word4,'</div>\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word5,'</div>\n                                    <div class="qua_left_word">').concat(n[s].qua_left_word6,'</div>\n                                </div>\n                                <div class="qua_show_con_right">\n                                    <a href="" class="bursting_big">\n                                        <p class="bursting_big_p1">').concat(n[s].bur_big_p1,'</p>\n                                        <p class="bursting_big_p2">').concat(n[s].bur_big_p2,'</p>\n                                        <div class="qua_buy_btn">').concat(n[s].bur_big_buy,'</div>\n                                        <img src="').concat(n[s].bur_big_img,'" alt="">\n                                    </a>\n                                    <a href="" class="bursting_sm">\n                                        <p class="bursting_sm_p1">').concat(n[s].bur_sm1_p1,'</p>\n                                        <p class="bursting_sm_p2">').concat(n[s].bur_sm1_p2,'</p>\n                                        <img src="').concat(n[s].bur_sm1_img,'" alt="">\n                                    </a>\n                                    <a href="" class="bursting_sm">\n                                        <p class="bursting_sm_p1">').concat(n[s].bur_sm2_p1,'</p>\n                                        <p class="bursting_sm_p2">').concat(n[s].bur_sm2_p2,'</p>\n                                        <img src="').concat(n[s].bur_sm2_img,'" alt="">\n                                    </a>\n                                    <a href="" class="bursting_sm">\n                                        <p class="bursting_sm_p1">').concat(n[s].bur_sm3_p1,'</p>\n                                        <p class="bursting_sm_p2">').concat(n[s].bur_sm3_p2,'</p>\n                                        <img src="').concat(n[s].bur_sm3_img,'" alt="">\n                                    </a>\n                                    <a href="" class="bursting_sm">\n                                    <p class="bursting_sm_p1">').concat(n[s].bur_sm4_p1,'</p>\n                                    <p class="bursting_sm_p2">').concat(n[s].bur_sm4_p2,'</p>\n                                    <img src="').concat(n[s].bur_sm4_img,'" alt="">\n                                    </a>\n                                    <a href="" class="bursting_big">\n                                        <p class="bursting_big_p1">').concat(n[s].bur_big2_p1,'</p>\n                                        <p class="bursting_big_p2">').concat(n[s].bur_big2_p2,'</p>\n                                        <div class="qua_buy_btn">').concat(n[s].bur_big2_buy,'</div>\n                                        <img src="').concat(n[s].bur_big2_img,'" alt="">\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="qua_top">\n                            <img src="../images/qua_ph1.png" alt="" class="qua_ph">\n                            <p class="qua_top_font">').concat(n[s].qua_top_p1,'</p>\n                            <p class="qua_top_font2">').concat(n[s].qua_top_p2,'</p>\n                            <div class="qua_top_slide">\n                                <div class="qua_top_slide_con">\n                                    <img src="').concat(n[s].qua_top_img1,'" alt="">\n                                    <img src="').concat(n[s].qua_top_img2,'" alt="">\n                                    <img src="').concat(n[s].qua_top_img3,'" alt="">\n                                </div>\n                            </div>\n                            <span class="qua_top_slide_left">\n                                <i class="iconfont icon-zuojiantou"></i>\n                            </span>\n                            <span class="qua_top_slide_right">\n                                <i class="iconfont icon-youjiantou"></i>\n                            </span>\n                        </div>\n                    </div>'));a.live_fresh_slide()}})}},{key:"know_list",value:function(){$.ajax({url:"http://localhost/ws203/oneShop/src/lib/shop_list.json",success:function(n){for(var s=0;s<n.length;s++)$(".under_list").append('\n                    <li class="under_list_single">\n                        <div class="under_pic">\n                            <img src="'.concat(n[s].img,'" alt="">\n                        </div>\n                        <p class="single_tit">').concat(n[s].name,'</p>\n                        <p class="single_money">￥').concat(n[s].price,'.00</p>\n                        <div class="single_tag clear_fix">\n                            <div class="single_ticket">领券</div>\n                        </div>\n                        <div class="single_btn">\n                            <div class="single_btn_left">\n                                <a href="" class="btn_car">\n                                    <i class="iconfont icon-gouwuchekong"></i>\n                                </a>\n                            </div>\n                            <div class="single_btn_right">\n                                <a href="">找相似</a>\n                            </div>\n                        </div>\n                        <a href="http://localhost/ws203/oneShop/src/pages/commodity-details.html?goodsId=').concat(n[s].goodsId,'" class="border_line"></a>\n                    </li>'));for(var a,t=document.getElementsByClassName("under_list_single"),i=6;i<t.length;i++)$(".under_list_single").eq(i).css("display","none");var c=2e3,o=0;window.onscroll=function(){scrollY>=c&&($(".loading").css("display","block"),clearTimeout(a),a=setTimeout(function(){for(var n=6;n<o+6;n++)if(o>=t.length){for(var s=o-6;s<t.length;s++)$(".under_list_single").eq(s).css("display","block"),$(".loading").css("display","none");console.log(s),s>=t.length&&($(".loading").css("display","none"),$(".loading_status").css("display","block"))}else $(".under_list_single").eq(n).css("display","block"),$(".loading").css("display","none");c+=207,o+=6},1e3)),450<=scrollY?($(".fix").css("display","block"),$(".top_sear").css("display","block").animate({top:0},500)):($(".fix").css("display","none"),$(".top_sear").css({display:"none",top:-60})),1400<=scrollY?$(".top_back").css("display","block"):$(".top_back").css("display","none")}}})}},{key:"top_back",value:function(){$(".top_back").on("click",function(){console.log(window.scrollY),$("html,body").animate({scrollTop:0},500)})}},{key:"login",value:function(){"?"!=location.search&&""!=location.search||(alert("请先登录"),location.href="../pages/login.html");var n=location.search.slice(1);$(".top_vip .login_btn").text(n).prev().text("晚上好,亲爱的").nextAll(".register_btn").css("display","none")}}]),n}();new Index_wrap;